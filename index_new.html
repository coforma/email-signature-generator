<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Email Signature Generator</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 0; padding: 10px; }
        .container { display: flex; flex-wrap: wrap; }
        .form-container, .preview-container { flex: 1; min-width: 300px; padding: 10px; }
        input, select { width: 100%; padding: 5px; margin-bottom: 10px; }
        #signature { border: 1px solid #ccc; padding: 10px; margin-top: 10px; }
    </style>
</head>
<body>
    <div class="container">
        <div class="form-container">
            <h2>Your Information</h2>
            <input type="text" id="name" placeholder="Your Name" onchange="updateSignature()">
            <input type="text" id="pronouns" placeholder="Your Pronouns" onchange="updateSignature()">
            <input type="text" id="title" placeholder="Your Title" onchange="updateSignature()">
            <input type="tel" id="phone" placeholder="Your Phone Number" onchange="updateSignature()">
            <input type="email" id="email" placeholder="your.email" onchange="updateSignature()">
            <select id="medium" onchange="updateSignature()">
                <option value="0">Read our Collectively newsletter on LinkedIn</option>
                <option value="1">Read about the work we've done</option>
                <option value="2">Learn more about our services</option>
            </select>
            <label>
                <input type="checkbox" id="banner" onchange="updateSignature()">
                Include 2024 Best Places To Work Banner
            </label>
        </div>
        <div class="preview-container">
            <h2>Signature Preview</h2>
            <div id="signature"></div>
        </div>
    </div>

    <script>
        var links = [
            {title:'Read our Collectively newsletter on LinkedIn', href:'https://www.linkedin.com/newsletters/collectively-7019363458403995648/'},
            {title:'Read about the work we\'ve done', href:'https://coforma.io/case-studies/'},
            {title:'Learn more about our services', href:'https://coforma.io/services/'}
        ];

        function getValue(id) {
            var el = document.getElementById(id);
            return el.value || el.placeholder;
        }

        function getPhone() {
            return getValue('phone').replace(/[^0-9]/g, '').substr(0, 10).replace(/(\d{3})(\d{3})(\d{4})/, '$1.$2.$3');
        }

        function getEmail() {
            return getValue('email').replace(/@.*/, '');
        }

        function getLink(field) {
            return links[document.getElementById('medium').value][field];
        }

        function getBanner() {
            if (!document.getElementById("banner").checked) return "";
            return '<a href="https://coforma.io/?utm_source=signature&utm_medium=email&utm_campaign=best_place_to_work_2024"><img width="300" style="width: 300px; max-width: 300px;" src="images/2024BPTW_WinnerEmailSignature.png" alt="2024 Best Places To Work Winner" /></a>';
        }

        function updateSignature() {
            var signature = '<p style="color: #595959; font-family: Roboto, Trebuchet MS, sans-serif; font-size: small; letter-spacing: 0.01em; margin: 10px 0 0 0; line-height: 1.35;">' +
                '<strong style="color: #2c2c2c;">' + getValue('name') + '</strong> ' +
                '&nbsp;' + getValue('pronouns') + '<br />' +
                getValue('title') + '<br />' +
                'M ' + getPhone() + ' &nbsp; <a style="color: #595959;" href="mailto:' + getEmail() + '@coforma.io">' + getEmail() + '@coforma.io</a>' +
                '<br /><br /><a href="https://coforma.io/"><img width="116" style="width: 116px; max-width: 116px; border-radius: 1px;" src="https://coforma.io/media/images/coforma_navy.original.jpg" alt="Coforma logo" /></a><br />' +
                '<a style="color: #2572e4; line-height: 2; margin-top: 2px; display: inline-block;" href="' + getLink('href') + '">' + getLink('title') + '</a><br />' +
                getBanner() + '<br /></p>';

            document.getElementById('signature').innerHTML = signature;
        }

        // Initialize signature
        updateSignature();
    </script>
</body>
</html>